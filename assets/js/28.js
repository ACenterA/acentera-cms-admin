webpackJsonp([28],{697:function(e,t,a){a(831);var s=a(1)(a(774),a(859),"data-v-5a7c1f70",null);e.exports=s.exports},774:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(2),n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},i=["configuration","metadata","approle"];t.default={components:{},data:function(){return{csrf:"",themes:[],tabName:"token",theme:null,tableData:[],selectedLang:null,selectedLangItem:null,allSettings:null,availableLanguages:[],availableLanguagesHash:{},tableColumns:["accessor","display_name","num_uses","orphan","policies","ttl"],showModal:!1,showDeleteModal:!1,selectedIndex:-1,currentPage:1,lastPage:1,tokenCount:0,loading:!1,search:{show:!1,str:"",found:0,searched:0,regex:!1,regexp:null}}},mounted:function(){var e=this,t=this;this.$http.get(window.currentUrl+"/assets/themes.json").then(function(a){t.themes=a.data,e.switchTab(0)}).catch(function(t){e.$onError(t)})},computed:n({},a.i(s.mapGetters)({getBasicAuth:"getBasicAuth"})),filters:{capitalize:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},methods:{switchTab:function(e){var t=this;this.tabName=i[e];var a=this;if(!this.$store.state.app.isLoaded)return setTimeout(function(){a.switchTab(e)},1e3);this.$httpApi.get(window.apiUrl+"/settings").then(function(e){var t=e.data;if(t.hasOwnProperty("theme")&&(a.theme=t.theme),t.hasOwnProperty("languages")){var s=[],n={},i=Object.keys(t.languages);a.allSettings=t;for(var o=0;o<i.length;o++){var l=t.languages[i[o]];l.id=i[o],l.value=i[o],n[i[o]]=l,n[t.languages[i[o]].languagename]=l,void 0===a.selectedLang&&(a.selectedLang=i[o].languagename),s.push(l)}a.availableLanguages=s,a.availableLanguagesHash=n}}).catch(function(e){t.$onError(e)})},loadLanguageDetails:function(e){void 0!==e&&(this.selectedLangItem=this.availableLanguagesHash[e])},openModalBasic:function(e){this.selectedIndex=e,this.showModal=!0},closeModalBasic:function(){},openDeleteModal:function(e){},closeDeleteModal:function(){},save:function(e){var t=this,a=this;this.$httpApi.post(window.apiUrl+"/settings",this.allSettings,{}).then(function(t){void 0!==e&&(a.theme=e.Name)}).catch(function(e){t.$onError(e)})},changeTheme:function(e){var t=this,a=this;this.$httpApi.post(window.apiUrl+"/settings",this.allSettings,{}).then(function(t){void 0!==e&&(a.theme=e.Name)}).catch(function(e){t.$onError(e)})},selectTheme:function(e){var t=this,a=this;if(this.$store.state.app.repoState.updating>=5)return void a.$notify({title:"Not logged in.",message:"You must login using your GIT account. (see left login menu)",type:"warning"});this.$httpApi.post(window.apiUrl+"/themes/update",{Name:e.Name,Repository:e.Repository},{headers:{Authorization:a.getBasicAuth,Token:window.vueAuth.getToken()}}).then(function(t){a.allSettings.theme=e.Name,a.changeTheme(e),a.$notify({title:"Theme updated.",message:"The operation has been successfully completed. Please validate your website before publishing your updated site.",type:"success"})}).catch(function(e){t.$onError(e)})},updateTheme:function(e){var t=this,a=this;if(this.$store.state.app.repoState.updating>=5)return void a.$notify({title:"Not logged in.",message:"You must login using your GIT account. (see left login menu)",type:"warning"});this.$httpApi.post(window.apiUrl+"/themes/refresh",{Name:e.Name},{headers:{Authorization:a.getBasicAuth,Token:window.vueAuth.getToken()}}).then(function(e){a.$notify({title:"Theme updated.",message:"The operation has been successfully completed. Please validate your website before publishing your updated site.",type:"success"})}).catch(function(e){t.$onError(e)})}}}},806:function(e,t,a){t=e.exports=a(676)(),t.push([e.i,".button[data-v-5a7c1f70]{margin:5px 0 0}.control .button[data-v-5a7c1f70]{margin:inherit}.fa-trash-o[data-v-5a7c1f70]{color:red}.fa-info[data-v-5a7c1f70]{color:#87cefa}.left[data-v-5a7c1f70]{float:left}","",{version:3,sources:["/data/serverless-cms-admin/client/views/admin/Themes.vue"],names:[],mappings:"AACA,yBACE,cAAgB,CACjB,AACD,kCACE,cAAgB,CACjB,AACD,6BACE,SAAW,CACZ,AACD,0BACE,aAAoB,CACrB,AACD,uBACE,UAAW,CACZ",file:"Themes.vue",sourcesContent:["\n.button[data-v-5a7c1f70] {\n  margin: 5px 0 0;\n}\n.control .button[data-v-5a7c1f70] {\n  margin: inherit;\n}\n.fa-trash-o[data-v-5a7c1f70] {\n  color: red;\n}\n.fa-info[data-v-5a7c1f70] {\n  color: lightskyblue;\n}\n.left[data-v-5a7c1f70] {\n  float:left;\n}\n"],sourceRoot:""}])},831:function(e,t,a){var s=a(806);"string"==typeof s&&(s=[[e.i,s,""]]);a(677)(s,{});s.locals&&(e.exports=s.locals)},859:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"tile is-ancestor"},[a("div",{staticClass:"tile is-parent"},[a("article",{staticClass:"tile is-child box"},[e._v("\n\n    Current Theme : "+e._s(e.theme)+"\n    "),e._l(e.themes,function(t){return a("div",[t.Name==e.theme?a("div",{staticClass:"tile is-parent is-vertical is-3 left"},[a("article",{staticClass:"message",class:"is-primary"},[a("div",{staticClass:"message-header"},[a("p",[e._v(e._s(t.Title))]),e._v(" "),a("button",{on:{click:function(a){e.updateTheme(t)}}},[e._v("Update")])]),e._v(" "),a("div",{staticClass:"message-body"},[e._v("\n              "+e._s(t.ShortDesc)+"\n            ")])])]):e._e(),e._v(" "),t.Name!=e.theme?a("div",{staticClass:"tile is-parent is-vertical is-3 left"},[a("article",{staticClass:"message",class:"not-selected"},[a("div",{staticClass:"message-header"},[a("p",[e._v(e._s(t.Title))]),e._v(" "),a("button",{on:{click:function(a){e.selectTheme(t)}}},[e._v("Select")])]),e._v(" "),a("div",{staticClass:"message-body"},[e._v("\n              "+e._s(t.ShortDesc)+"\n              "),a("br")])])]):e._e()])})],2)])])])},staticRenderFns:[]}}});