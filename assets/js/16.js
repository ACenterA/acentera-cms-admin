webpackJsonp([16],{709:function(t,s,e){e(823);var i=e(1)(e(786),e(849),"data-v-230177fe",null);t.exports=i.exports},786:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=e(5);s.default={data:function(){return{parallelData:{},password:"",github:function(){return this.$store.state?this.$store.state.github||{}:{}},bitbucket:!1,tmpUsername:""}},props:{},computed:{githubA:function(){return this.$store.state?this.$store.state.github||{}:{}},username:function(){var t=this.github();return t.user?"BitBucket"===t.logininfo.type?t.user.display_name||this.parallelData.user.username:t.user.name||this.parallelData.user.login:null}},mounted:function(){if(void 0!==this.github()){var t=this.github();this.parallelData=t,this.$github.get("user",{},this.updateGituser,this.gitError)}},methods:{updateGituser:function(t){var s={user:this.tmpUsername,username:this.tmpUsername,pass:this.password,type:"GitHub"};i.default.set(this.parallelData,"user",t),i.default.set(this.parallelData,"logininfo",s),window.localStorage.setItem("github",JSON.stringify(this.parallelData)),this.$store.commit("setGit",this.parallelData),window.localStorage.setItem("default_git_provider","github"),this.$store.commit("setDefaultGitProvider","github"),this.password=""},updateBitbucketuser:function(t){var s={user:this.tmpUsername,username:t.username,pass:this.password,type:"BitBucket"};i.default.set(this.parallelData,"user",t),i.default.set(this.parallelData,"logininfo",s),window.localStorage.setItem("github",JSON.stringify(this.parallelData)),this.$store.commit("setGit",this.parallelData),window.localStorage.setItem("default_git_provider","bitbucket"),this.$store.commit("setDefaultGitProvider","bitbucket"),this.password=""},isBitBucket:function(){return!0===this.bitbucket},selectBitBucket:function(){this.bitbucket=!0},selectGitHub:function(){this.bitbucket=!1},isLogIn:function(){return null!==this.username&&void 0!==this.username},validateGithubLogin:function(){this.$github.setUserPass(this.tmpUsername,this.password),this.$github.get("user",{},this.updateGituser,this.gitError)},validateBitBucketLogin:function(){this.$bitbucket.setUserPass(this.tmpUsername,this.password),this.$bitbucket.get("/2.0/user",{},this.updateBitbucketuser,this.gitError)},userPlaceHolder:function(){return this.isBitBucket()?"BitBucket Username":"GitHub Username"},isGithubValid:function(){return void 0!==this.tmpUsername&&""!==this.tmpUsername&&void 0!==this.password&&""!==this.password},isBitBucketValid:function(){return void 0!==this.tmpUsername&&""!==this.tmpUsername&&void 0!==this.password&&""!==this.password},logoutGithub:function(){window.localStorage.removeItem("github"),i.default.set(this.parallelData,"user",{}),this.$store.commit("clearGit")},gitError:function(t){if(void 0===t.response)this.$notify({title:"Cannot login",message:"Do you have internet access?",type:"danger"});else if(t.response&&401===t.response.status){var s="GitHub";this.isBitBucket()&&(s="BitBucket"),this.$notify({title:"Cannot login",message:"Invalid username / password. Are you trying to connect to your "+s+" account ?",type:"danger"})}},monitorkey:function(t){"Enter"===t.code&&(this.bitbucket?this.validateBitBucketLogin():this.validateGithubLogin())}},watch:{}}},798:function(t,s,e){s=t.exports=e(676)(),s.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"GitHub.vue",sourceRoot:""}])},823:function(t,s,e){var i=e(798);"string"==typeof i&&(i=[[t.i,i,""]]);e(677)(i,{});i.locals&&(t.exports=i.locals)},849:function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[t.isLogIn()?e("div",[e("p",[e("strong",[t._v("Logged in as ")]),t._v(" "+t._s(t.username)+" "),t._m(0)]),t._v(" "),e("br"),e("br"),t._v(" "),e("br"),t._v("\n      Â \n      "),e("p",{staticClass:"control"},[e("a",{staticClass:"button rightfloat is-primary",on:{click:function(s){t.logoutGithub()}}},[e("span",[t._v("Logout")])])])]):t._e(),t._v(" "),t.isLogIn()?t._e():e("div",[t._m(1),e("article",{staticClass:"tile"},[e("p",{staticClass:"control"},[e("a",{staticClass:"button leftfloat is-primary",on:{click:function(s){t.selectGitHub()}}},[e("span",[t._v("Github")])])]),t._v(" "),e("p",{staticClass:"control"},[e("a",{staticClass:"button leftfloat is-primary",staticStyle:{"margin-left":"30px"},on:{click:function(s){t.selectBitBucket()}}},[e("span",[t._v("Bitbucket")])])])]),t._v(" "),e("p"),t._v(" "),e("br"),e("br"),t._v(" "),e("article",{staticClass:"tile is-child box"},[e("label",{staticClass:"label"},[t._v("User")]),t._v(" "),e("div",{staticClass:"field has-addons"},[e("p",{staticClass:"control is-expanded"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.tmpUsername,expression:"tmpUsername"}],staticClass:"input",attrs:{type:"text",placeholder:t.userPlaceHolder()},domProps:{value:t.tmpUsername},on:{input:function(s){s.target.composing||(t.tmpUsername=s.target.value)}}})])]),t._v(" "),e("label",{staticClass:"label"},[t._v("Password")]),t._v(" "),e("div",{staticClass:"field has-addons"},[e("p",{staticClass:"control is-expanded"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"input",attrs:{type:"password",placeholder:"password"},domProps:{value:t.password},on:{keypress:function(s){t.monitorkey(s)},input:function(s){s.target.composing||(t.password=s.target.value)}}})])]),t._v(" "),t.isBitBucket()?t._e():e("div",[e("p",{staticClass:"control"},[e("a",{staticClass:"button rightfloat is-primary",attrs:{disabled:!t.isGithubValid()},on:{click:function(s){t.validateGithubLogin()}}},[e("span",[t._v("Login with Github")])])])]),t._v(" "),t.isBitBucket()?e("div",[e("p",{staticClass:"control"},[e("a",{staticClass:"button rightfloat is-primary",attrs:{disabled:!t.isBitBucketValid()},on:{click:function(s){t.validateBitBucketLogin()}}},[e("span",[t._v("Login with BitBucket")])])])]):t._e()]),t._v(" "),e("p")])])])},staticRenderFns:[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("em",[e("br"),t._v("(hey there, have fun!)")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("p",[e("strong",[t._v("Choose provider")])])}]}}});