webpackJsonp([32],{690:function(e,t,s){s(824);var i=s(1)(s(767),s(851),"data-v-2c7a23be",null);e.exports=i.exports},767:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(2),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e};t.default={components:{},data:function(){return{showModal:!1,response:!1,processing:!1,confirmationWebsiteId:""}},mounted:function(){this.confirmationWebsiteId=""},computed:o({},s.i(i.mapGetters)({getBasicAuth:"getBasicAuth",selectedWebsite:"selectedWebsite"}),{txt:function(){return"v="+this.$store.state.app.account},domainCount:function(){if(this.selectedWebsite&&this.selectedWebsite.domains){return Object.keys(this.selectedWebsite.domains).length}return 0},getDomains:function(){return this.selectedWebsite?this.selectedWebsite.domains:null},getWebsiteId:function(){return this.selectedWebsite?this.selectedWebsite.websiteId:"ThisIsForTestingPurposes"},getProjectId:function(){return this.$store.state.app.project?this.$store.state.app.project.projectId:"111DevTest"}}),filters:{capitalize:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},methods:{deleteSite:function(){var e=this;if(this.confirmationWebsiteId===this.getWebsiteId){if(!this.processing){var t=this.getProjectId,s=null;e.$store.state.app&&e.$store.state.app.repoState&&(s=e.$store.state.app.repoState.url);var i={projectId:t,websiteId:this.getWebsiteId,git:s,txt:e.txt.replace("v=","")};this.processing=!0;var o=window.websiteapiUrl+"/sites/v1/websites/"+t+"/"+this.getWebsiteId+"/delete",n={authorization:"Bearer "+e.$store.state.session.token};e.$http.post(o,i,{headers:n}).then(function(s){s&&s.data&&s.data.type?s.data.type.startsWith("error")?(e.processing=!1,e.$notify({title:"Could delete website.",message:"We were unable to delete your website. Contact support! ",type:"danger"})):(e.$notify({title:"Website deleted.",message:"We successfully deleted your website from our hosting. We thank you for using it.",type:"success"}),setTimeout(function(){e.processing=!1,delete window.vm.$store.getters.app.project.websites[i.websiteId],e.$store.commit("SELECT_WEBSITE",{projectId:t,websiteId:null})},5e3)):(e.processing=!1,e.$notify({title:"Could delete website.",message:"We were unable to delete your website. Contact support! ",type:"danger"}))},function(t){e.processing=!1,e.$notify({title:"Could delete website.",message:"We were unable to delete your website. Contact support! ",type:"danger"})})}}else this.$notify({title:"Invalid value",message:"The confirmation value does not match.",type:"danger"})},openModalBasic:function(e){this.response=!1,this.showModal=!0},closeModalBasic:function(){this.showModal=!1}}}},799:function(e,t,s){t=e.exports=s(676)(),t.push([e.i,".button[data-v-2c7a23be]{margin:5px 0 0}.control .button[data-v-2c7a23be]{margin:inherit}.fa-trash-o[data-v-2c7a23be]{color:red}.fa-info[data-v-2c7a23be]{color:#87cefa}.left[data-v-2c7a23be]{float:left}","",{version:3,sources:["/data/serverless-cms-admin/client/views/admin/Danger.vue"],names:[],mappings:"AACA,yBACE,cAAgB,CACjB,AACD,kCACE,cAAgB,CACjB,AACD,6BACE,SAAW,CACZ,AACD,0BACE,aAAoB,CACrB,AACD,uBACE,UAAW,CACZ",file:"Danger.vue",sourcesContent:["\n.button[data-v-2c7a23be] {\n  margin: 5px 0 0;\n}\n.control .button[data-v-2c7a23be] {\n  margin: inherit;\n}\n.fa-trash-o[data-v-2c7a23be] {\n  color: red;\n}\n.fa-info[data-v-2c7a23be] {\n  color: lightskyblue;\n}\n.left[data-v-2c7a23be] {\n  float:left;\n}\n"],sourceRoot:""}])},824:function(e,t,s){var i=s(799);"string"==typeof i&&(i=[[e.i,i,""]]);s(677)(i,{});i.locals&&(e.exports=i.locals)},851:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"tile is-ancestor"},[s("div",{staticClass:"tile is-parent"},[s("article",{staticClass:"tile is-child box"},[0===e.domainCount?s("div",[s("b",[e._v("Warning")]),e._v(" do you really want to delete your website ?\n      "),s("br"),e._v(" "),s("br"),e._v("\n      Enter this confirmation id "),s("b",[e._v(e._s(e.getWebsiteId))]),e._v(" "),s("br"),e._v(" "),s("br"),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.confirmationWebsiteId,expression:"confirmationWebsiteId"}],attrs:{type:"text",id:"confirmationWebsiteId"},domProps:{value:e.confirmationWebsiteId},on:{input:function(t){t.target.composing||(e.confirmationWebsiteId=t.target.value)}}}),e._v(" "),s("br"),e._v(" "),s("br"),e._v(" "),e.processing?s("button",{staticClass:"button",attrs:{type:"submit",id:"deleteSiteSubmitWait"}},[e._v("Deleting...")]):s("button",{staticClass:"button is-danger",attrs:{type:"submit",id:"deleteSiteSubmit"},on:{click:e.deleteSite}},[e._v("Delete My Site")])]):s("div",[e._v("\n      To delete your site, first delete all of your associated domains from the domain section. "),s("br")])])])])])},staticRenderFns:[]}}});